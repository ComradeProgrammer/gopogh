<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="description" content="A front-end template that helps you build fast, modern mobile web apps.">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <title>Test Run</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <style type="text/css">
        {{template "cssthing"}}
    </style>

</head>

<body class="mdl-demo mdl-color--grey-100 mdl-color-text--grey-700 mdl-base">
    <div class="mdl-layout mdl-js-layout mdl-layout--fixed-header">
        <header class="mdl-layout__header mdl-layout__header--scroll mdl-color--primary">
            <div class="mdl-layout--large-screen-only mdl-layout__header-row">
                <h3>Test Results: {{.Report.Name}} 
                    {{ if .Report.PR }}
                        <a href="https://{{.Report.RepoName}}/pull/{{.Report.PR}}">{{.Report.PR}}</a>
                    {{ end }}
                </h3>
                <pre>
                    {{ if .Report.Details }}
                    {{ .Report.Details }}
                    {{ end }}
                </pre>
            </div>
        </header>
        <main class="mdl-layout__content">
            <div class="mdl-layout__tab-panel is-active" id="overview">
                <section id="failsection" class="section--center mdl-grid mdl-grid--no-spacing mdl-shadow--2dp">
                    <div class="mdl-card mdl-cell mdl-cell--12-col">
                        <div class="mdl-card__title mdl-color--red-500 mdl-color-text--white test-section-header">
                            <h2 class="mdl-card__title-text">Test Failures ({{ len .Fail }}/{{ .TotalTests }})</h2>
                        </div>
                        <div class="mdl-card__supporting-text mdl-grid mdl-grid--no-spacing test-results">
                            {{ if .Fail}}
                                    <div  id="failtableofcontent">
                                        <ul>
                                            {{range  $i, $f := .Fail}}            
                                            <li><a href="#failtestwindow{{$i}}">{{ .TestName }}</a>  - {{.Duration}}</li>
                                            {{end}}
                                        </ul>
                                    </div>
                            
                            {{range  $i, $f := .Fail}}
                            <script>
                                $(document).ready(function(){
                                  $("#failsearchbox{{$i}}").on("keyup", function() {
                                    var value = $(this).val().toLowerCase();
                                    $("#failtestcontent{{$i}} pre").filter(function() {
                                      $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1)
                                    });
                                  });
                                });
                                </script>
                        <div class="mdl-grid">
                            {{ if gt $i 0}}
                            <div class="jumpup">
                                    <a href="#failsection"><i class="fa fa-arrow-up"></i></a>
                            </div>
                            {{end}}
                        </div>
                            <div id="failtestwindow{{ $i }}" class="window wd{{ mod $i 2 -}}">
                                <div class="titlebar collapsible">
                                    <div class="buttons">
                                        <div class="close">
                                            <a class="closebutton" href="#"><span><strong>x</strong></span></a>
                                            <!-- close button link -->
                                        </div>
                                        <div class="minimize">
                                            <a class="minimizebutton" href="#"><span><strong>&ndash;</strong></span></a>
                                            <!-- minimize button link -->
                                        </div>
                                        <div class="zoom">
                                            <a class="zoombutton" href="#"><span><strong>+</strong></span></a>
                                            <!-- zoom button link -->
                                        </div>

                                    </div>
                                    {{ .TestName }}
                                    <input size="10" id="failsearchbox{{$i}}" class="search_box" type="text" placeholder="🔍 search... ">
                                    

                                    
                                    <!-- window title -->
                                </div>
                                <div id="failtestcontent{{ $i }}" class="content">
                                    {{range .Events}}
                                    <pre>{{ .Output }}</pre>
                                    {{end}}
                                </div>
                            </div>
                            {{end}}
                        </div>
                    </div>
                </section>
                {{end}}

                {{ if .Pass}}
                <section id="passsection" class="section--center mdl-grid mdl-grid--no-spacing mdl-shadow--2dp">
                    <div class="mdl-card mdl-cell mdl-cell--12-col hidden-section">
                        <div class="mdl-card__title mdl-color--green-500 mdl-color-text--white test-section-header">
                            <h2 class="mdl-card__title-text">Test Passes ({{ len .Pass }}/{{ .TotalTests }})</h2>
                        </div>

                        <div class="mdl-card__supporting-text mdl-grid mdl-grid--no-spacing test-results">
                            {{range  $i, $f := .Pass}}
                            <h5> {{ .TestName }} ({{ .Duration }}s)</h5>
                            <div class="window wd{{ mod $i 2 -}}">
                                <div class="titlebar collapsible">
                                    <div class="buttons">
                                        <div class="close">
                                            <a class="closebutton" href="#"><span><strong>x</strong></span></a>
                                            <!-- close button link -->
                                        </div>
                                        <div class="minimize">
                                            <a class="minimizebutton" href="#"><span><strong>&ndash;</strong></span></a>
                                            <!-- minimize button link -->
                                        </div>
                                        <div class="zoom">
                                            <a class="zoombutton" href="#"><span><strong>+</strong></span></a>
                                            <!-- zoom button link -->
                                        </div>
                                    </div>
                                    {{ .TestName }} ({{ .Duration }}s)
                                    <!-- window title -->
                                </div>
                                <div class="content">
                                    {{range .Events}}
                                    <pre>{{ .Output }}</pre>
                                    {{end}}
                                </div>
                            </div>
                            {{end}}
                        </div>
                    </div>
                </section>
                {{end}}

                {{ if .Skip}}
                <section id="skipsection" class="section--center mdl-grid mdl-grid--no-spacing mdl-shadow--2dp">
                    <div class="mdl-card mdl-cell mdl-cell--12-col hidden-section">
                        <div class="mdl-card__title mdl-color--grey-500 mdl-color-text--white test-section-header">
                            <h2 class="mdl-card__title-text">Skipped Test ({{ len .Skip }}/{{ .TotalTests }})</h2>
                        </div>

                        <div class="mdl-card__supporting-text mdl-grid mdl-grid--no-spacing test-results">
                            {{range  $i, $f := .Skip}}
                            <h5> {{ .TestName }} ({{ .Duration }}s)</h5>
                            <div class="window wd{{ mod $i 2 -}}">
                                <div class="titlebar collapsible">
                                    <div class="buttons">
                                        <div class="close">
                                            <a class="closebutton" href="#"><span><strong>x</strong></span></a>
                                            <!-- close button link -->
                                        </div>
                                        <div class="minimize">
                                            <a class="minimizebutton" href="#"><span><strong>&ndash;</strong></span></a>
                                            <!-- minimize button link -->
                                        </div>
                                        <div class="zoom">
                                            <a class="zoombutton" href="#"><span><strong>+</strong></span></a>
                                            <!-- zoom button link -->
                                        </div>
                                    </div>
                                    {{ .TestName }} ({{ .Duration }}s)
                                    <!-- window title -->
                                </div>
                                <div class="content">
                                    {{range .Events}}
                                    <pre>{{ .Output }}</pre>
                                    {{end}}
                                </div>
                            </div>
                            {{end}}
                        </div>
                    </div>
                </section>
                {{end}}            </div>

        </main>
        <div class="mdl-js-snackbar mdl-snackbar copy-success" data-upgraded=",MaterialSnackbar">
            <div class="mdl-snackbar__text">Copied to clipboard</div>
        </div>
    </div>
    <script type="text/javascript">
        var headers = document.querySelectorAll('.test-section-header');

        Array.from(headers).forEach(function (link) {
            link.addEventListener('click', function (_) {
                link.parentNode.classList.toggle('hidden-section');
            });
        });
    </script>

    <script>

        var coll = document.getElementsByClassName("collapsible");
        var i;

        for (i = 0; i < coll.length; i++) {
            coll[i].addEventListener("click", function () {
                this.classList.toggle("active");
                var content = this.nextElementSibling;
                if (content.style.display === "block") {
                    content.style.display = "none";
                } else {
                    content.style.display = "block";
                }
            });
        }
    </script>

<div class="mdl-mega-footer">
Report generated on {{.CreatedOn.Format "Jan 02, 2006 15:04:05"}} 
<br>By  <a href="https://github.com/medyagh/goprettyorgohomeGenerated">Gopogh {{.BuildVersion}} </a>
</div>
</body>

</html>